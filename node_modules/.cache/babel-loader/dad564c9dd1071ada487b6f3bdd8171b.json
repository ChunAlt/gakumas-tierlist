{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Chun\\\\GakuTest\\\\src\\\\components\\\\Filters.js\";\nimport React from 'react';\nimport cards from '../cards';\nimport { lsTest } from '../utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Filters extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ssr: [true, false, true, false, true],\n      sr: [true, true, false, false, true],\n      r: [false, false, false, false, true]\n    };\n    this.onSettingChanged = this.onSettingChanged.bind(this);\n\n    if (lsTest()) {\n      let savedFilters = window.localStorage.getItem(\"filters\");\n\n      if (savedFilters !== null) {\n        savedFilters = JSON.parse(savedFilters);\n        this.state = savedFilters;\n      }\n    }\n\n    let availableCards = cards.filter(c => {\n      if (c.rarity === 1) {\n        return this.state.r[c.limit_break];\n      } else if (c.rarity === 2) {\n        return this.state.sr[c.limit_break];\n      } else {\n        return this.state.ssr[c.limit_break];\n      }\n    });\n    this.props.onCardsChanged(availableCards);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState && prevState !== this.state && lsTest()) {\n      window.localStorage.setItem(\"filters\", JSON.stringify(this.state));\n    }\n  }\n\n  onSettingChanged(event, numberString, numberInput) {\n    if (!event) return;\n    let settings = { ...this.state\n    };\n\n    if (event.target.id.indexOf('.') > 0) {\n      let split = event.target.id.split('.');\n      settings[split[0]][split[1]] = !settings[split[0]][split[1]];\n    } else {\n      settings[event.target.id] = !settings[event.target.id];\n    }\n\n    this.setState(settings);\n    let availableCards = cards.filter(c => {\n      if (c.rarity === 1) {\n        return this.state.r[c.limit_break];\n      } else if (c.rarity === 2) {\n        return this.state.sr[c.limit_break];\n      } else {\n        return this.state.ssr[c.limit_break];\n      }\n    });\n    this.props.onCardsChanged(availableCards);\n  }\n\n  onTypeChanged(event) {\n    this.setState({\n      currentState: event.target.id\n    });\n    this.props.onChange(this.state[event.target.id]);\n  }\n\n  render() {\n    const rarities = [\"ssr\", \"sr\", \"r\"];\n    let rows = [];\n    rows.push( /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n        children: \"SSR\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n        children: \"SR\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 35\n      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n        children: \"R\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 46\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 19\n    }, this));\n\n    for (let i = 4; i >= 0; i--) {\n      let data = [];\n      let lit_up = \"\";\n      let dark = \"\";\n\n      for (let j = 0; j < 4; j++) {\n        if (j < i) {\n          lit_up += \"◆\";\n        } else {\n          dark += \"◆\";\n        }\n      }\n\n      for (let r = 0; r < 3; r++) {\n        data.push( /*#__PURE__*/_jsxDEV(\"td\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"lb-yes\",\n            children: lit_up\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"lb-no\",\n            children: dark\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 61\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: this.state[rarities[r]][i],\n            id: rarities[r] + \".\" + i,\n            onChange: this.onSettingChanged\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 27\n        }, this));\n      }\n\n      rows.push( /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 23\n      }, this));\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filters\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"general-filters\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          children: rows\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Filters;","map":{"version":3,"sources":["C:/Users/Chun/GakuTest/src/components/Filters.js"],"names":["React","cards","lsTest","Filters","Component","constructor","props","state","ssr","sr","r","onSettingChanged","bind","savedFilters","window","localStorage","getItem","JSON","parse","availableCards","filter","c","rarity","limit_break","onCardsChanged","componentDidUpdate","prevProps","prevState","setItem","stringify","event","numberString","numberInput","settings","target","id","indexOf","split","setState","onTypeChanged","currentState","onChange","render","rarities","rows","push","i","data","lit_up","dark","j"],"mappings":"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","sourcesContent":["import React from 'react';\nimport cards from '../cards';\nimport { lsTest } from '../utils';\n\nclass Filters extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ssr:[true,false,true,false,true],\n            sr:[true,true,false,false,true],\n            r: [false,false,false,false,true],\n        };\n\n        this.onSettingChanged = this.onSettingChanged.bind(this);\n\n        if(lsTest()) {\n            let savedFilters = window.localStorage.getItem(\"filters\");\n            if (savedFilters !== null) {\n                savedFilters = JSON.parse(savedFilters);\n                this.state = savedFilters;\n            }\n        }\n\n        let availableCards = cards.filter((c) => {\n            if (c.rarity === 1) {\n                return this.state.r[c.limit_break]\n            } else if (c.rarity === 2) {\n                return this.state.sr[c.limit_break]\n            } else {\n                return this.state.ssr[c.limit_break]\n            }\n        });\n        this.props.onCardsChanged(availableCards);\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if(prevState && prevState !== this.state && lsTest()) {\n            window.localStorage.setItem(\"filters\", JSON.stringify(this.state));\n        }\n    }\n\n    onSettingChanged(event, numberString, numberInput) {\n        if (!event) return;\n\n        let settings = {...this.state};\n\n        if (event.target.id.indexOf('.') > 0) {\n            let split = event.target.id.split('.');\n            settings[split[0]][split[1]] = !settings[split[0]][split[1]];\n        } else {\n            settings[event.target.id] = !settings[event.target.id];\n        }\n        \n        this.setState(settings);\n\n        let availableCards = cards.filter((c) => {\n            if (c.rarity === 1) {\n                return this.state.r[c.limit_break]\n            } else if (c.rarity === 2) {\n                return this.state.sr[c.limit_break]\n            } else {\n                return this.state.ssr[c.limit_break]\n            }\n        });\n        this.props.onCardsChanged(availableCards);\n    }\n\n    onTypeChanged(event) {\n        this.setState({\n            currentState: event.target.id\n        });\n\n        this.props.onChange(this.state[event.target.id]);\n    }\n\n    render() {\n        const rarities = [\"ssr\",\"sr\",\"r\"];\n        let rows = [];\n        rows.push(<tr><th>SSR</th><th>SR</th><th>R</th></tr>);\n        for (let i = 4; i >= 0; i--) {\n            let data = [];\n            let lit_up = \"\";\n            let dark = \"\";\n            for(let j = 0; j < 4; j++) {\n                if (j < i) {\n                    lit_up += \"◆\";\n                } else {\n                    dark += \"◆\";\n                }\n            }\n            for (let r = 0; r < 3; r++) {\n                data.push(<td>\n                    <span className=\"lb-yes\">{lit_up}</span><span className=\"lb-no\">{dark}</span>\n                    <input type=\"checkbox\" checked={this.state[rarities[r]][i]} id={rarities[r] + \".\" + i} onChange={this.onSettingChanged}/>\n                </td>);\n            }\n            rows.push(<tr>{data}</tr>);\n        }\n        \n        return (\n            <div className=\"filters\">\n                <div className=\"general-filters\">\n                    <table>\n                        {rows}\n                    </table>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Filters;"]},"metadata":{},"sourceType":"module"}