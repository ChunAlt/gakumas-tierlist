{"ast":null,"code":"import _objectSpread from\"C:/Users/Chun/GakuTest/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"C:/Users/Chun/GakuTest/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Chun/GakuTest/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"C:/Users/Chun/GakuTest/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"C:/Users/Chun/GakuTest/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/Chun/GakuTest/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import cards from'../cards';import{lsTest}from'../utils';import VoiceIcon from'../icons/utx_ico_obtain_00.png';import DanceIcon from'../icons/utx_ico_obtain_01.png';import VisualIcon from'../icons/utx_ico_obtain_02.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Filters=/*#__PURE__*/function(_React$Component){_inherits(Filters,_React$Component);var _super=_createSuper(Filters);function Filters(props){var _this;_classCallCheck(this,Filters);_this=_super.call(this,props);_this.state={ssr:[true,false,true,false,true],sr:[true,true,false,false,true],r:[false,false,false,false,true]};_this.onSettingChanged=_this.onSettingChanged.bind(_assertThisInitialized(_this));var availableCards=cards.filter(function(c){if(c.rarity===1){return _this.state.r[c.limit_break];}else if(c.rarity===2){return _this.state.sr[c.limit_break];}else{return _this.state.ssr[c.limit_break];}});_this.props.onCardsChanged(availableCards);return _this;}_createClass(Filters,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){if(prevState&&prevState!==this.state&&lsTest()){window.localStorage.setItem(\"filters\",JSON.stringify(this.state));}}},{key:\"onSettingChanged\",value:function onSettingChanged(event,numberString,numberInput){var _this2=this;if(!event)return;var settings=_objectSpread({},this.state);if(event.target.id.indexOf('.')>0){var split=event.target.id.split('.');settings[split[0]][split[1]]=!settings[split[0]][split[1]];}else{settings[event.target.id]=!settings[event.target.id];}this.setState(settings);var availableCards=cards.filter(function(c){if(c.rarity===1){return _this2.state.r[c.limit_break];}else if(c.rarity===2){return _this2.state.sr[c.limit_break];}else{return _this2.state.ssr[c.limit_break];}});this.props.onCardsChanged(availableCards);}},{key:\"onTypeChanged\",value:function onTypeChanged(event){this.setState({currentState:event.target.id});this.props.onChange(this.state[event.target.id]);}},{key:\"render\",value:function render(){var rarities=[\"ssr\",\"sr\",\"r\"];var rows=[];rows.push(/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"SSR\"}),/*#__PURE__*/_jsx(\"th\",{children:\"SR\"}),/*#__PURE__*/_jsx(\"th\",{children:\"R\"})]},rarities[0]));for(var i=4;i>=0;i--){var data=[];var lit_up=\"\";var dark=\"\";for(var j=0;j<4;j++){if(j<i){lit_up+=\"◆\";}else{dark+=\"◆\";}}for(var r=0;r<3;r++){data.push(/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"lb-yes\",children:lit_up}),/*#__PURE__*/_jsx(\"span\",{className:\"lb-no\",children:dark}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:this.state[rarities[r]][i],id:rarities[r]+\".\"+i,onChange:this.onSettingChanged})]},rarities[r]+i));}rows.push(/*#__PURE__*/_jsx(\"tr\",{children:data},rows+i));}return/*#__PURE__*/_jsx(\"div\",{className:\"filters\",children:/*#__PURE__*/_jsx(\"div\",{className:\"general-filters\",children:/*#__PURE__*/_jsx(\"table\",{children:/*#__PURE__*/_jsx(\"tbody\",{children:rows})})})});}}]);return Filters;}(React.Component);export default Filters;","map":{"version":3,"sources":["C:/Users/Chun/GakuTest/src/components/Filters.js"],"names":["React","cards","lsTest","VoiceIcon","DanceIcon","VisualIcon","Filters","props","state","ssr","sr","r","onSettingChanged","bind","availableCards","filter","c","rarity","limit_break","onCardsChanged","prevProps","prevState","window","localStorage","setItem","JSON","stringify","event","numberString","numberInput","settings","target","id","indexOf","split","setState","currentState","onChange","rarities","rows","push","i","data","lit_up","dark","j","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport cards from '../cards';\nimport { lsTest } from '../utils';\nimport VoiceIcon from '../icons/utx_ico_obtain_00.png';\nimport DanceIcon from '../icons/utx_ico_obtain_01.png';\nimport VisualIcon from '../icons/utx_ico_obtain_02.png';\n\nclass Filters extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ssr:[true,false,true,false,true],\n            sr:[true,true,false,false,true],\n            r: [false,false,false,false,true],\n        };\n\n        this.onSettingChanged = this.onSettingChanged.bind(this);\n\n        let availableCards = cards.filter((c) => {\n            if (c.rarity === 1) {\n                return this.state.r[c.limit_break]\n            } else if (c.rarity === 2) {\n                return this.state.sr[c.limit_break]\n            } else {\n                return this.state.ssr[c.limit_break]\n            }\n        });\n        this.props.onCardsChanged(availableCards);\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if(prevState && prevState !== this.state && lsTest()) {\n            window.localStorage.setItem(\"filters\", JSON.stringify(this.state));\n        }\n    }\n\n    onSettingChanged(event, numberString, numberInput) {\n        if (!event) return;\n\n        let settings = {...this.state};\n\n        if (event.target.id.indexOf('.') > 0) {\n            let split = event.target.id.split('.');\n            settings[split[0]][split[1]] = !settings[split[0]][split[1]];\n        } else {\n            settings[event.target.id] = !settings[event.target.id];\n        }\n        \n        this.setState(settings);\n\n        let availableCards = cards.filter((c) => {\n            if (c.rarity === 1) {\n                return this.state.r[c.limit_break]\n            } else if (c.rarity === 2) {\n                return this.state.sr[c.limit_break]\n            } else {\n                return this.state.ssr[c.limit_break]\n            }\n        });\n        this.props.onCardsChanged(availableCards);\n    }\n\n    onTypeChanged(event) {\n        this.setState({\n            currentState: event.target.id\n        });\n\n        this.props.onChange(this.state[event.target.id]);\n    }\n\n    render() {\n        const rarities = [\"ssr\",\"sr\",\"r\"];\n        let rows = [];\n        rows.push(<tr key={rarities[0]}><th>SSR</th><th>SR</th><th>R</th></tr>);\n        for (let i = 4; i >= 0; i--) {\n            let data = [];\n            let lit_up = \"\";\n            let dark = \"\";\n            for(let j = 0; j < 4; j++) {\n                if (j < i) {\n                    lit_up += \"◆\";\n                } else {\n                    dark += \"◆\";\n                }\n            }\n            for (let r = 0; r < 3; r++) {\n                data.push(<td key={rarities[r]+i}>\n                    <span className=\"lb-yes\">{lit_up}</span><span className=\"lb-no\">{dark}</span>\n                    <input type=\"checkbox\" checked={this.state[rarities[r]][i]} id={rarities[r] + \".\" + i} onChange={this.onSettingChanged}/>\n                </td>);\n            }\n            rows.push(<tr key = {rows+i} >{data}</tr>);\n        }\n        \n        return (\n            <div className=\"filters\">\n                <div  className=\"general-filters\">\n                    <table>\n                        <tbody >\n                            {rows}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Filters;"]},"metadata":{},"sourceType":"module"}